(()=>{"use strict";var e,l={515:()=>{const e=window.React,l=window.wp.i18n,t=window.wp.element,o=window.wp.blockEditor,a=(window.wp.formatLibrary,window.wp.components),n=window.wp.blocks,r=window.wp.data,c=window.wp.htmlEntities,i=[["core/paragraph",{placeholder:(0,l.__)("Add body contentâ€¦","global360blocks")}]],s=["core/paragraph","core/list","core/heading","core/quote","core/html"];(0,n.registerBlockType)("global360blocks/two-column",{edit:({attributes:m,setAttributes:g,clientId:d})=>{const{imageUrl:b,imageId:u,heading:p,bodyText:h,layout:k="image-left",backgroundColor:w,headingColor:_,highPriorityImage:f=!1}=m,v=(0,r.useSelect)(e=>e("core/block-editor").getBlocks(d),[d]),E=(0,r.useSelect)(e=>{const l=e("core/block-editor")?.getSettings?.();return l?.colors||[]},[]),y=v.length>0,{replaceInnerBlocks:C}=(0,r.useDispatch)("core/block-editor");(0,t.useEffect)(()=>{if(!y&&h){const e=(0,n.rawHandler)({HTML:h});let l=e.length?e:[(0,n.createBlock)("core/html",{content:h})];const t=e.some(e=>!e?.name||"core/freeform"===e?.name);if(e.length&&t&&(l=[(0,n.createBlock)("core/html",{content:h})]),e.length>1&&e.every(e=>"core/paragraph"===e?.name&&"string"==typeof e?.attributes?.content)){const t=e.map(e=>e.attributes.content.trim()).filter(Boolean).join("<br />");t&&(l=[(0,n.createBlock)("core/paragraph",{content:t})])}C(d,l,!1)}},[y,h,C,d,g]),(0,t.useEffect)(()=>{const e=(0,n.serialize)(v);e!==(h||"")&&g({bodyText:e})},[v,h,g]);const N=()=>{g({imageUrl:"",imageId:0})},B=(0,r.useSelect)(e=>u?e("core").getMedia(u):null,[u]),I=(0,t.useMemo)(()=>{if(b)return b;if(!B)return"";const e=B?.media_details;return B?.source_url||e?.sizes?.full?.source_url||e?.sizes?.large?.source_url||e?.file||""},[b,B]),O=(0,t.useMemo)(()=>{const e=[];if(B){const l="string"==typeof B.alt?B.alt:"",t="string"==typeof B.alt_text?B.alt_text:"",o="string"==typeof B?.title?.rendered?B.title.rendered:"",a="string"==typeof B.title?B.title:"";e.push(l,t,o,a)}const l=(0,c.decodeEntities)(((e="")=>"string"==typeof e?e.replace(/<[^>]*>?/gm,""):"")(p||"").trim());e.push(l);const t=e.find(e=>e&&e.trim());return t?t.trim():""},[B,p]),x=(0,o.useBlockProps)({className:"two-column-block",style:{backgroundColor:w||void 0}});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(a.PanelBody,{title:(0,l.__)("Layout","global360blocks"),initialOpen:!0},(0,e.createElement)(a.RadioControl,{label:(0,l.__)("Media position","global360blocks"),selected:k,onChange:e=>g({layout:e}),options:[{label:(0,l.__)("Image on left","global360blocks"),value:"image-left"},{label:(0,l.__)("Image on right","global360blocks"),value:"image-right"}]})),(0,e.createElement)(a.PanelBody,{title:(0,l.__)("Performance","global360blocks")},(0,e.createElement)(a.ToggleControl,{label:(0,l.__)("High priority image (hero / above the fold)","global360blocks"),checked:!!f,onChange:e=>g({highPriorityImage:!!e})})),(0,e.createElement)(o.PanelColorSettings,{title:(0,l.__)("Colors","global360blocks"),colors:E,colorSettings:[{label:(0,l.__)("Heading color","global360blocks"),value:_,onChange:e=>g({headingColor:e||""})},{label:(0,l.__)("Content background","global360blocks"),value:w,onChange:e=>g({backgroundColor:e||""})}]})),(0,e.createElement)("div",{...x},(0,e.createElement)("div",{className:`two-column-container layout-${k}`},(0,e.createElement)("div",{className:"two-column-image"},I?(0,e.createElement)("img",{src:I,alt:O,className:"column-image",loading:f?"eager":"lazy",fetchpriority:f?"high":"auto"}):(0,e.createElement)("div",{className:"image-placeholder"},(0,e.createElement)("span",null,(0,l.__)("Image will appear here","global360blocks"))),(0,e.createElement)("div",{className:"image-controls"},(0,e.createElement)(o.MediaUploadCheck,null,(0,e.createElement)(o.MediaUpload,{onSelect:e=>{g({imageUrl:e.url,imageId:e.id})},allowedTypes:["image"],value:u,render:({open:t})=>(0,e.createElement)("div",{className:"upload-controls"},!I&&(0,e.createElement)(a.Button,{className:"button button-large",onClick:t},(0,l.__)("Upload Image","global360blocks")),I&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.Button,{className:"button",onClick:t},(0,l.__)("Replace Image","global360blocks")),(0,e.createElement)(a.Button,{className:"button",onClick:N},(0,l.__)("Remove Image","global360blocks"))))})))),(0,e.createElement)("div",{className:"two-column-content",style:w?{backgroundColor:w}:void 0},(0,e.createElement)("div",{className:"two-column-content-inner"},(0,e.createElement)(o.RichText,{identifier:"heading",tagName:"h2",className:"two-column-heading",style:_?{color:_}:void 0,value:p,onChange:e=>g({heading:e}),placeholder:(0,l.__)("Enter heading...","global360blocks"),allowedFormats:["core/bold","core/italic","core/text-color","core/link"]}),(0,e.createElement)("div",{className:"two-column-body-field"},(0,e.createElement)("span",{className:"two-column-field-label"},(0,l.__)("Body content","global360blocks")),(0,e.createElement)("div",{className:"two-column-body"},(0,e.createElement)(o.InnerBlocks,{allowedBlocks:s,template:i,templateLock:!1}))),(0,e.createElement)("div",{className:"two-column-button-preview"},(0,e.createElement)("span",{className:"btn btn_global"},(0,l.__)("Take Risk Assessment Now","global360blocks"))))))))},save:()=>(0,e.createElement)(o.InnerBlocks.Content,null)})}},t={};function o(e){var a=t[e];if(void 0!==a)return a.exports;var n=t[e]={exports:{}};return l[e](n,n.exports,o),n.exports}o.m=l,e=[],o.O=(l,t,a,n)=>{if(!t){var r=1/0;for(m=0;m<e.length;m++){for(var[t,a,n]=e[m],c=!0,i=0;i<t.length;i++)(!1&n||r>=n)&&Object.keys(o.O).every(e=>o.O[e](t[i]))?t.splice(i--,1):(c=!1,n<r&&(r=n));if(c){e.splice(m--,1);var s=a();void 0!==s&&(l=s)}}return l}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[t,a,n]},o.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={57:0,350:0};o.O.j=l=>0===e[l];var l=(l,t)=>{var a,n,[r,c,i]=t,s=0;if(r.some(l=>0!==e[l])){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(i)var m=i(o)}for(l&&l(t);s<r.length;s++)n=r[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(m)},t=globalThis.webpackChunk_360_global_blocks=globalThis.webpackChunk_360_global_blocks||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var a=o.O(void 0,[350],()=>o(515));a=o.O(a)})();