(()=>{"use strict";var e,t={207:()=>{const e=window.React,t=window.wp.blocks,n=window.wp.blockEditor,r=window.wp.element,i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"global360blocks/annotated-bibliography-simple","title":"Annotated Bibliography (Simple)","category":"360-blocks","icon":"book","description":"A simple annotated bibliography block with an editable heading and a single rich text field.","keywords":["bibliography","annotated","references"],"textdomain":"global360blocks","supports":{"html":false,"anchor":true,"align":["wide","full"]},"attributes":{"heading":{"type":"string","source":"html","selector":"h2.bibliography-heading","default":"Annotated Bibliography"},"content":{"type":"string","source":"html","selector":".bibliography-list","default":""}},"editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css"}'),o=/((?:https?:\/\/|www\.)[^\s<]+)$/i;function a(e){return e.startsWith("www.")?`https://${e}`:e}function l(e){let t=e;for(;t.length;){const e=t[t.length-1];if(![".",",",";",":","!","?",")","]","}",'"',"'"].includes(e))break;t=t.slice(0,-1)}return t}function s(e){if(!o.test(e))return!1;try{return new URL(a(e)),!0}catch(e){return!1}}function c(e,t){const n=e.nodeValue||"";if(!n.trim())return null;const r=[],i=/(?:https?:\/\/|www\.)[^\s<]+/gi;let o;for(;o=i.exec(n);)r.push({start:o.index,end:o.index+o[0].length,raw:o[0]});if(!r.length)return null;const c=t.createDocumentFragment();let d=0;for(const e of r){e.start>d&&c.appendChild(t.createTextNode(n.slice(d,e.start)));const r=l(e.raw),i=e.raw.slice(r.length);if(r&&s(r)){const e=a(r),n=t.createElement("a");n.setAttribute("href",e),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener noreferrer"),n.textContent=r,c.appendChild(n)}else c.appendChild(t.createTextNode(e.raw));i&&c.appendChild(t.createTextNode(i)),d=e.end}return d<n.length&&c.appendChild(t.createTextNode(n.slice(d))),c}(0,t.registerBlockType)(i.name,{...i,edit:function({attributes:t,setAttributes:i}){const{heading:o,content:a}=t,l=(0,r.useCallback)(e=>i({heading:e}),[i]),s=(0,r.useCallback)(e=>i({content:e}),[i]),c=(0,n.useBlockProps)({className:"annotated-bibliography"});return(0,e.createElement)("section",{...c},(0,e.createElement)(n.RichText,{tagName:"h2",className:"bibliography-heading",value:o,onChange:l,placeholder:"Annotated Bibliography",allowedFormats:["core/bold","core/italic","core/link"]}),(0,e.createElement)(n.RichText,{tagName:"div",className:"bibliography-list",value:a,onChange:s,multiline:"p",placeholder:"Paste your bibliography hereâ€¦",allowedFormats:["core/bold","core/italic","core/link"]}))},save:function({attributes:t}){const{heading:r,content:i}=t,o=n.useBlockProps.save({className:"annotated-bibliography"}),a=function(e){if(!e)return e;if("undefined"==typeof window||void 0===window.DOMParser)return e;const t=(new window.DOMParser).parseFromString(`<div>${e}</div>`,"text/html"),n=t.body.firstElementChild;if(!n)return e;const r=t.createTreeWalker(n,window.NodeFilter.SHOW_TEXT),i=[];let o;for(;o=r.nextNode();)i.push(o);for(const e of i){const n=e.parentElement;if(!n)continue;if(n.closest("a, code, pre, script, style"))continue;const r=c(e,t);r&&n.replaceChild(r,e)}return n.innerHTML}(i);return(0,e.createElement)("section",{...o},(0,e.createElement)(n.RichText.Content,{tagName:"h2",className:"bibliography-heading",value:r}),(0,e.createElement)(n.RichText.Content,{tagName:"div",className:"bibliography-list",value:a}))}})}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,i,o)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,i,o]=e[d],l=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every(e=>r.O[e](n[s]))?n.splice(s--,1):(l=!1,o<a&&(a=o));if(l){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,i,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[a,l,s]=n,c=0;if(a.some(t=>0!==e[t])){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(s)var d=s(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},n=globalThis.webpackChunk_360_global_blocks=globalThis.webpackChunk_360_global_blocks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[350],()=>r(207));i=r.O(i)})();