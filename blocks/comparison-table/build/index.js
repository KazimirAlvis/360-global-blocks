(()=>{"use strict";var e,l={232:()=>{const e=window.wp.blocks,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"global360blocks/comparison-table","version":"0.1.0","title":"Comparison Table","category":"360-blocks","icon":"table-col-after","description":"Responsive comparison table with configurable rows and columns.","keywords":["table","comparison","pricing"],"supports":{"html":false,"anchor":true,"align":["wide","full"],"spacing":{"margin":true,"padding":true}},"attributes":{"heading":{"type":"string","default":""},"subheading":{"type":"string","default":""},"columns":{"type":"array","default":["","","",""],"items":{"type":"string"}},"rows":{"type":"array","default":[{"cells":["","","",""]},{"cells":["","","",""]},{"cells":["","","",""]},{"cells":["","","",""]}],"items":{"type":"object","properties":{"cells":{"type":"array","items":{"type":"string"}}}}},"footnote":{"type":"string","default":""},"backgroundColor":{"type":"string","default":""},"headerBackgroundColor":{"type":"string","default":""},"headerFontSize":{"type":"number","default":0}},"textdomain":"global360blocks","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css"}'),o=window.React,a=window.wp.i18n,t=window.wp.element,r=window.wp.blockEditor,n=window.wp.components,c=(e,l,o)=>Math.min(Math.max(e,l),o),s=(e=[],l,o="")=>{const a=Array.isArray(e)?e.slice(0,l):[];for(;a.length<l;)a.push("function"==typeof o?o(a.length):o);return a},i=e=>({cells:Array.from({length:e},()=>"")}),m=(e,l,o)=>{const a=(Array.isArray(e)?e.map((e={})=>({cells:s(e.cells,l,"")})):[]).slice(0,o);for(;a.length<o;)a.push(i(l));return a};(0,e.registerBlockType)(l.name,{...l,edit:({attributes:e,setAttributes:l})=>{const{heading:i,subheading:b,columns:d=[],rows:g=[],footnote:p,backgroundColor:u,headerBackgroundColor:h,headerFontSize:k}=e,f=d.length?d.length:4,y=g.length?g.length:4;(0,t.useEffect)(()=>{if(!Array.isArray(d)||d.length<2){const e=Array.isArray(d)?d.length:0;l({columns:s(d,e>0?e:4,"")})}},[d,l]),(0,t.useEffect)(()=>{const e=!Array.isArray(g)||g.length<2,o=!Array.isArray(g)||g.some(e=>!Array.isArray(e?.cells)||e.cells.length!==f);if(!e&&!o)return;const a=e?Math.max(g?.length||0,4):g.length,t=m(g,f,Math.max(a,2));l({rows:t})},[g,f,l]);const w={...u?{"--comparison-background":u}:null,...h?{"--comparison-header-background":h}:null,...k?{"--comparison-header-font-size":`${k}px`}:null},_=(0,r.useBlockProps)({className:"comparison-table-block",style:Object.keys(w).length?w:void 0}),v=(0,t.useMemo)(()=>s(d,f,""),[d,f]),C=(0,t.useMemo)(()=>m(g,f,y),[g,f,y]);return(0,o.createElement)(t.Fragment,null,(0,o.createElement)(r.InspectorControls,null,(0,o.createElement)(n.PanelBody,{title:(0,a.__)("Table Layout","global360blocks")},(0,o.createElement)(n.RangeControl,{label:(0,a.__)("Number of columns","global360blocks"),min:2,max:6,value:f,onChange:e=>{const o=c(e,2,6),a=s(d,o,""),t=m(g,o,Math.max(g.length||0,2));l({columns:a,rows:t})},help:(0,a.__)("Adjust the column labels first, then fill each row below.","global360blocks")}),(0,o.createElement)(n.RangeControl,{label:(0,a.__)("Number of rows","global360blocks"),min:2,max:10,value:y,onChange:e=>{const o=c(e,2,10),a=m(g,f,o);l({rows:a})},help:(0,a.__)("Add or remove comparison rows as needed.","global360blocks")})),(0,o.createElement)(n.PanelBody,{title:(0,a.__)("Header Row","global360blocks"),initialOpen:!1},(0,o.createElement)(n.RangeControl,{label:(0,a.__)("Header font size (px)","global360blocks"),min:12,max:28,value:k||0,onChange:e=>l({headerFontSize:e||0}),help:(0,a.__)("Controls the font size of the top header row (column headings).","global360blocks")})),(0,o.createElement)(r.PanelColorSettings,{title:(0,a.__)("Background color","global360blocks"),initialOpen:!1,colorSettings:[{label:(0,a.__)("Background color","global360blocks"),value:u,onChange:e=>l({backgroundColor:e||""})},{label:(0,a.__)("Header row background","global360blocks"),value:h,onChange:e=>l({headerBackgroundColor:e||""})}]})),(0,o.createElement)("div",{..._},(0,o.createElement)("div",{className:"comparison-table-inner"},(0,o.createElement)("div",{className:"comparison-table-heading"},(0,o.createElement)(r.RichText,{tagName:"h2",value:i,onChange:e=>l({heading:e}),placeholder:(0,a.__)("Comparison title…","global360blocks"),allowedFormats:["core/bold","core/italic","core/link","core/text-color"]}),(0,o.createElement)(r.RichText,{tagName:"p",className:"comparison-table-subheading",value:b,onChange:e=>l({subheading:e}),placeholder:(0,a.__)("Optional supporting copy…","global360blocks"),allowedFormats:["core/bold","core/italic","core/link","core/text-color"]})),(0,o.createElement)("div",{className:"comparison-table-wrapper"},(0,o.createElement)("table",{className:"comparison-table",role:"grid"},(0,o.createElement)("thead",null,(0,o.createElement)("tr",null,v.map((e,t)=>(0,o.createElement)("th",{key:`column-${t}`},(0,o.createElement)(r.RichText,{tagName:"span",className:"comparison-table-cell-input",value:e,onChange:e=>((e,o)=>{const a=s(d,f,"");a[e]=o,l({columns:a})})(t,e),placeholder:(0,a.__)("Column heading","global360blocks"),allowedFormats:["core/bold","core/italic","core/link","core/text-color"]}))))),(0,o.createElement)("tbody",null,C.map((e,t)=>(0,o.createElement)("tr",{key:`row-${t}`},v.map((n,c)=>(0,o.createElement)("td",{key:`cell-${t}-${c}`},(0,o.createElement)(r.RichText,{tagName:"span",className:"comparison-table-cell-input",value:e.cells?.[c]||"",onChange:e=>((e,o,a)=>{const t=g.map((l,t)=>{if(t!==e)return l;const r=s(l?.cells,f,"");return r[o]=a,{...l,cells:r}});l({rows:t})})(t,c,e),placeholder:(0,a.__)("Cell detail","global360blocks"),allowedFormats:["core/bold","core/italic","core/link","core/text-color"]})))))))),(0,o.createElement)(r.RichText,{tagName:"p",className:"comparison-table-footnote",value:p,onChange:e=>l({footnote:e}),placeholder:(0,a.__)("Optional footnote or disclaimer…","global360blocks"),allowedFormats:["core/bold","core/italic","core/link","core/text-color"]}))))},save:()=>null})}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return l[e](r,r.exports,a),r.exports}a.m=l,e=[],a.O=(l,o,t,r)=>{if(!o){var n=1/0;for(m=0;m<e.length;m++){for(var[o,t,r]=e[m],c=!0,s=0;s<o.length;s++)(!1&r||n>=r)&&Object.keys(a.O).every(e=>a.O[e](o[s]))?o.splice(s--,1):(c=!1,r<n&&(n=r));if(c){e.splice(m--,1);var i=t();void 0!==i&&(l=i)}}return l}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[o,t,r]},a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={57:0,350:0};a.O.j=l=>0===e[l];var l=(l,o)=>{var t,r,[n,c,s]=o,i=0;if(n.some(l=>0!==e[l])){for(t in c)a.o(c,t)&&(a.m[t]=c[t]);if(s)var m=s(a)}for(l&&l(o);i<n.length;i++)r=n[i],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},o=globalThis.webpackChunk_360_global_blocks=globalThis.webpackChunk_360_global_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var t=a.O(void 0,[350],()=>a(232));t=a.O(t)})();